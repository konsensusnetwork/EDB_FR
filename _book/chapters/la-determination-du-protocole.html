<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>11&nbsp; Determining the Protocol – L'Élégance de Bitcoin</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/les-rouages-de-la-machine.html" rel="next">
<link href="../chapters/le-changement-de-la-monnaie.html" rel="prev">
<link href="..//figures/freestarfish.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="11&nbsp; Determining the Protocol – L’Élégance de Bitcoin">
<meta property="og:description" content="">
<meta property="og:image" content="cover.png">
<meta property="og:site_name" content="L'Élégance de Bitcoin">
<meta name="twitter:title" content="11&nbsp; Determining the Protocol – L’Élégance de Bitcoin">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="cover.png">
<meta name="twitter:site" content="@konsensusn">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">L’Élégance de Bitcoin</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> <i class="bi bi-book" role="img" aria-label="Book">
</i> 
<span class="menu-text">Lire en ligne</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://bitcoinbook.shop/products/lelegance-de-bitcoin"> <i class="bi bi-shop" role="img" aria-label="Shop">
</i> 
<span class="menu-text">Acheter ce livre!</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/la-determination-du-protocole.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Determining the Protocol</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="sidebar-tools-main">
    <div id="quarto-search" class="quarto-navigation-tool px-1" title="Search"></div>
</div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">À propos de ce livre</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/preface-de-jacques-favier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface by Jacques Favier</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/remerciements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgments</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/avant-propos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/les-debuts-de-bitcoin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">The Beginnings of Bitcoin</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/une-croissance-conflictuelle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">A Conflict-Ridden Growth</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/des-racines-monetaires.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">The Monetary Roots</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/la-necessite-de-decentralisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">The Necessity of Decentralization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/un-mouvement-technologique.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Un mouvement technologique</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/la-cybermonnaie-avant-nakamoto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Cryptocurrency Before Nakamoto</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/la-valeur-de-l-information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The Value of Information</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/le-consensus-par-le-minage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Consensus Through Mining</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/la-resistance-a-la-censure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Resistance to Censorship</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/le-changement-de-la-monnaie.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Evolution of Currency</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/la-determination-du-protocole.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Determining the Protocol</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/les-rouages-de-la-machine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">The Inner Workings of the Machine</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/les-contrats-autonomes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Autonomous Contracts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/le-passage-a-l-echelle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Scaling Up</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/l-avenir-de-bitcoin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">The Future of Bitcoin</span></span></a>
  </div>
</li>
    </ul>
    </div>
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#resistance-to-inflation" id="toc-resistance-to-inflation" class="nav-link active" data-scroll-target="#resistance-to-inflation">Resistance to Inflation</a></li>
  <li><a href="#the-influence-of-merchants-on-the-protocol" id="toc-the-influence-of-merchants-on-the-protocol" class="nav-link" data-scroll-target="#the-influence-of-merchants-on-the-protocol">The Influence of Merchants on the Protocol</a></li>
  <li><a href="#the-network-effect" id="toc-the-network-effect" class="nav-link" data-scroll-target="#the-network-effect">The Network Effect</a></li>
  <li><a href="#the-substitution-effect" id="toc-the-substitution-effect" class="nav-link" data-scroll-target="#the-substitution-effect">The Substitution Effect</a></li>
  <li><a href="#power-and-influence" id="toc-power-and-influence" class="nav-link" data-scroll-target="#power-and-influence">Power and Influence</a></li>
  <li><a href="#the-influence-of-developers" id="toc-the-influence-of-developers" class="nav-link" data-scroll-target="#the-influence-of-developers">The Influence of Developers</a></li>
  <li><a href="#the-pressure-from-miners" id="toc-the-pressure-from-miners" class="nav-link" data-scroll-target="#the-pressure-from-miners">The Pressure from Miners</a></li>
  <li><a href="#the-role-of-users" id="toc-the-role-of-users" class="nav-link" data-scroll-target="#the-role-of-users">The Role of Users</a></li>
  <li><a href="#the-impact-of-opinion-leaders" id="toc-the-impact-of-opinion-leaders" class="nav-link" data-scroll-target="#the-impact-of-opinion-leaders">The Impact of Opinion Leaders</a></li>
  <li><a href="#the-persuasive-power-of-finance" id="toc-the-persuasive-power-of-finance" class="nav-link" data-scroll-target="#the-persuasive-power-of-finance">The Persuasive Power of Finance</a></li>
  <li><a href="#the-states-challenge-to-the-protocol" id="toc-the-states-challenge-to-the-protocol" class="nav-link" data-scroll-target="#the-states-challenge-to-the-protocol">The State’s Challenge to the Protocol</a></li>
  <li><a href="#two-layers-of-security" id="toc-two-layers-of-security" class="nav-link" data-scroll-target="#two-layers-of-security">Two Layers of Security</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="ch:determination" class="quarto-section-identifier"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Determining the Protocol</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><span id="enotezch:11" label="enotezch:11"></span></p>
<p><strong><span class="lettrine">I</span><span class="smallcaps">n</span></strong> Bitcoin, the protocol comprises the open set of rules involved in the creation and transmission of blocks and transactions across the network. Notably, it includes the consensus rules that govern the validity of the ledger upon which network nodes agree. These rules are implemented through software applications that can be freely copied, modified, and reused at will.</p>
<p>This open and free nature means there is no central authority decreeing the rules, as is common in centralized models; instead, decision-making is distributed within the community. Therefore, determining the protocol is not a technical mechanism but an economic one, aligning with Bitcoin’s fundamentally monetary nature.</p>
<p>This topic is of paramount importance because this mechanism ensures the integrity of the consensus rules and, consequently, the proper functioning of the system. In particular, it underpins the renowned resistance to inflation—the difficulty of creating more bitcoins. Therefore, it is crucial to have a solid understanding of this mechanism if we are to be convinced of Bitcoin’s viability.</p>
<section id="resistance-to-inflation" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="resistance-to-inflation">Resistance to Inflation</h2>
<p>One of Bitcoin’s two major promises is to resist monetary inflation—that is, to make it difficult to create additional units beyond what the market accepts. This promise is substantial: as we saw in Chapter&nbsp;<a href="la-necessite-de-decentralisation.html" data-reference-type="ref" data-reference="ch:adversaire">4</a>, the state does everything in its power to benefit from monetary creation, a phenomenon known as seigniorage. At first glance, it seems surprising that a digital entity could possess such a property.</p>
<p>Bitcoin’s original monetary policy was established by Satoshi Nakamoto when the prototype was launched on January 8, 2009. This policy was straightforward: monetary creation would be halved every four years, becoming negligible over time. The plan was to create 10.5 million units linearly over the first four years, 5.25 million over the next four, 2.625 million over the following four, and so on, limiting the total number of units in circulation to 21 million. Bitcoin was envisioned to become a currency with a fixed supply—something unprecedented in history.</p>
<p>This monetary policy became one of Bitcoin’s selling points, leading some to believe it was immutable and carved in stone, with the mathematical application of Satoshi Nakamoto’s decree guaranteeing the system’s resistance to inflation. For instance, Tyler Winklevoss, who invested in bitcoin with his twin brother Cameron, was convinced in 2013 that he had purchased an asset free from human intervention:</p>
<p>“We have elected to put our money and faith in a mathematical framework that is free of politics and human error<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.”</p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Nathaniel Popper, Peter Lattman, “<em>As Big Investors Emerge, Bitcoin Gets Ready for its Close-Up</em>”, <em>CNBC</em>, April 11, 2013: <a href="https://www.cnbc.com/id/100635418" class="uri">https://www.cnbc.com/id/100635418</a>.</p></div></div><p>However, this belief is, at best, a misguided approximation. It’s not sufficient for a rule to have been decreed in the past for it to manifest in present reality; it also requires acceptance and application by others. This acceptance is inherently subject to politics and human error.</p>
<p>Confusion exists regarding bitcoin’s fixed monetary policy. Notably, Satoshi Nakamoto never specified how it could be safeguarded. Various theories have been proposed, ranging from miner intervention to the need for community unanimity, or even attributing legal authority to Satoshi’s decree. In all cases, the discussion revolves around “governance<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>” or “social consensus<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>”—that is, how Bitcoin’s rules are decided. This is the issue we refer to as determining the protocol.</p>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Pierre Rochard, <em>Bitcoin Governance</em>, July 9, 2018: <a href="https://pierre-rochard.medium.com/bitcoin-governance-37e86299470f" class="uri">https://pierre-rochard.medium.com/bitcoin-governance-37e86299470f</a>.</p></div><div id="fn3"><p><sup>3</sup>&nbsp;Arthur Breitman mentioned <em>social consensus</em> as early as August 2014 in the first formal description of Tezos.—Arthur Breitman, <em>Tezos: A Self-Amending Crypto-Ledger</em>, August 3, 2014: <a href="https://tezos.com/position-paper.pdf" class="uri">https://tezos.com/position-paper.pdf</a>.</p></div></div></section>
<section id="the-influence-of-merchants-on-the-protocol" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-influence-of-merchants-on-the-protocol">The Influence of Merchants on the Protocol</h2>
<p>As we’ve suggested, the protocol is determined by economic forces. Since Bitcoin is an economic system, it’s natural that its governing rules emerge from the market rather than from a fixed past decree or a current central authority.</p>
<p>The notion that the economy shapes the rules isn’t new. As early as spring 2012, Meni Rosenfeld wrote on Stack Overflow that changing the protocol required “an economic majority, i.e., adoption by the users and businesses that give the currency value<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.” Gavin Andresen echoed this idea in May 2015 when discussing increasing the block size limit:</p>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;Meni Rosenfeld, <em>Re: How could the bitcoin protocol be changed? Has this ever occurred?</em>, June 14, 2012, 13:53:19 UTC: <a href="https://bitcoin.stackexchange.com/questions/3945/how-could-the-bitcoin-protocol-be-changed-has-this-ever-occurred#comment4983_3948" class="uri">https://bitcoin.stackexchange.com/questions/3945/how-could-the-bitcoin-protocol-be-changed-has-this-ever-occurred#comment4983_3948</a>.</p></div><div id="fn5"><p><sup>5</sup>&nbsp;Gavin Andresen, <em>[Bitcoin-development] Proposed alternatives to the 20MB step function</em>, May 29, 2015, 12:39:30 UTC: <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008340.html" class="uri">https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2015-May/008340.html</a>.</p></div></div><p>“If we can’t reach consensus here, the ultimate authority for determining consensus is the code used by the majority of merchants, exchanges, and miners<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.”</p>
<p>However, the clarity of this concept only emerged after the events of the blocksize war, during which the underlying mechanisms became apparent. It wasn’t developers or miners deciding the rules but rather the users, and more precisely, the <em>merchants</em>. Eric Voskuil wrote in November 2018:</p>
<p>“Bitcoin does not rely on a custodian, but for the sake of establishing a general principle, one can consider the set of all merchants as the collective custodian of Bitcoin<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>.”</p>
<div class="no-row-height column-margin column-container"><div id="fn6"><p><sup>6</sup>&nbsp;Eric Voskuil, “Custodial Risk Principle,” in <em>Cryptoeconomics: Fundamental Principles of Bitcoin</em>, Amazon KDP, 2022, pp.&nbsp;34–35.</p></div><div id="fn7"><p><sup>7</sup>&nbsp;This was recognized in January 2010 by NewLibertyStandard, Bitcoin’s first merchant, who stated: “Everyone who buys or sells goods using bitcoins, including exchangers, advances the Bitcoin economy.”—NewLibertyStandard, <em>Re: New Exchange Service: “BTC 2 PSC”</em>, January 19, 2010, 08:06:15 UTC: <a href="https://bitcointalk.org/index.php?topic=15.msg111#msg111" class="uri">https://bitcointalk.org/index.php?topic=15.msg111#msg111</a>.</p></div></div><p>Merchants, broadly defined, are those who provide goods, services, or other currencies in exchange for bitcoin at market-acceptable prices. This activity is evident through actual transactions with customers and can be measured by the revenue received. In this way, merchants contribute to bitcoin’s utility, gauged by the quantity of goods and services it facilitates acquiring, and thus to the economic significance of the chain<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>. By operating nodes that verify consensus rules, they participate in determining the protocol in proportion to their potential economic activity.</p>
<p>Referring to a single, changeable protocol is inaccurate: as sets of rules, protocols are each fixed, but their use and utility vary. Modifying the protocol involves creating a new protocol whose resulting chain becomes economically more significant than any competing branches, including the one adhering to the original protocol<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>. For example, SegWit was a contentious soft fork, but the resulting protocol was far more valued than competing protocols (BTC pre-SegWit and Bitcoin Cash), so we can say the BTC protocol was upgraded through this modification.</p>
<div class="no-row-height column-margin column-container"><div id="fn8"><p><sup>8</sup>&nbsp;Jeff Garzik aptly noted in October 2010 that “the effort to increase the transaction rate limit [was] the same as changing the fundamental nature of bitcoins: convincing the vast majority to upgrade.”—Jeff Garzik, <em>Re: [PATCH] increase block size limit</em>, October 4, 2010, 18:33:55 UTC: <a href="https://bitcointalk.org/index.php?topic=1347.msg15342#msg15342" class="uri">https://bitcointalk.org/index.php?topic=1347.msg15342#msg15342</a>.</p></div></div><p>Bitcoin, as a concept, naturally encompasses multiple protocols due to its open and free nature. There’s not just one Bitcoin protocol but several, much like there are multiple Linux distributions or various forms of the dollar. These protocols compete to gain utility through merchant adoption.</p>
<p>What truly matters is the economic weight of the chains these protocols create. Anyone can define Bitcoin as they wish, perhaps declaring there’s only one protocol that cannot be altered without unanimity, but this stance doesn’t change the economic realities. If a modified chain captures 80% of economic activity, the chain following the original protocol rules would continue to exist but would be significantly downgraded and lose relevance. As Arthur Breitman noted in 2014, “the option of sticking with the original protocol is not at all relevant if the value of its tokens is annihilated by a change in consensus<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>.”</p>
<div class="no-row-height column-margin column-container"><div id="fn9"><p><sup>9</sup>&nbsp;Arthur Breitman, <em>Tezos: A Self-Amending Crypto-Ledger</em>, August 3, 2014: <a href="https://tezos.com/position-paper.pdf" class="uri">https://tezos.com/position-paper.pdf</a>.</p></div></div><p>This explains the practices that have naturally evolved within the ecosystem. We typically refer to Bitcoin as the main and economically dominant implementation of the concept. In cases of a split, the name and market ticker of the original protocol are usually retained by the majority branch, whether it keeps the initial rules (Bitcoin-BTC) or modifies them (Ethereum-ETH). The minority branch must then adjust its name, either by extending it to emphasize continuity (Bitcoin Cash, Bitcoin SV, Ethereum Classic) or by adopting a new brand (e.g., “eCash”&nbsp;/XEC).</p>
<p>This economic mechanism means resistance to change comes from merchants who refuse to adopt new rules. Therefore, a modification that would undermine Bitcoin’s fundamental properties—such as introducing censorship or inflation—would only take effect if merchants accepted it. Merchants benefit from these fundamental properties through the freedom offered by the absence of censorship (facilitating, for example, tax evasion) and the increasing purchasing power of the funds received, incentivizing them to reject such changes. Specifically, bitcoin’s “natural deflation<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>” serves as the economic incentive maintaining its unique monetary policy.</p>
<div class="no-row-height column-margin column-container"><div id="fn10"><p><sup>10</sup>&nbsp;Satoshi Nakamoto, <em>Re: A few suggestions</em>, December 13, 2009, 16:51:25 UTC: <a href="https://bitcointalk.org/index.php?topic=12.msg62#msg62" class="uri">https://bitcointalk.org/index.php?topic=12.msg62#msg62</a>.</p></div><div id="fn11"><p><sup>11</sup>&nbsp;Eric Voskuil, “Qualitative Security Model,” in <em>Cryptoeconomics: Fundamental Principles of Bitcoin</em>, Amazon KDP, 2022, pp.&nbsp;59–62.</p></div></div><p>Similar to mining security, the commercial security of a chain—that is, the difficulty of altering its fundamental properties—doesn’t depend solely on its economic activity (revenues). It also hinges on the distribution of this activity and the number of merchants relative to the global population<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a>. If economic activity is concentrated in the hands of a single actor, modifying the protocol becomes easy. Likewise, if high economic activity is evenly distributed among a small number of merchants, the protocol is more susceptible to change than if a large number of merchants are involved.</p>
<p>Just as miners may delegate their transaction selection power (“hashers”), merchants can delegate their power to verify consensus rules. Merchants relinquish this power to custodial services, paying a commission to reduce usage complexity (such as node deployment) and transaction costs (through fee discounts). These custodial services might include wallet providers (Electrum, Acinq, Edge, Ledger, Trezor), payment processors (BitPay, Coinbase Commerce), or even block explorers (Blockchair, Mempool.space).</p>
<p>Delegating verification poses an obvious centralization issue. While the economy can adapt and return to health in the medium term through new node deployments, the immediate commercial security of the chain suffers. An attack aiming to modify or eliminate the protocol can inflict significant short-term damage.</p>
<p>This impact intensifies if delegation involves asset custody with a third party, effectively making the custodian the real merchant with full control over the funds. This scenario is common with online exchanges that buy and sell other currencies using bitcoin while maintaining internal order books to balance supply and demand.</p>
<p>As of this writing, Bitcoin’s situation is unique because economic activity is dominated by exchanges between bitcoin and official currencies. Even during Satoshi’s time, exchangers were Bitcoin’s first merchants: the inaugural purchase using bitcoin wasn’t a pizza, as often recounted, but $5.02 via PayPal<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a>. Today, centralized exchanges like Kraken, Coinbase, and Binance have taken the lead, resulting in an economy that’s highly centralized and vulnerable to attacks.</p>
<div class="no-row-height column-margin column-container"><div id="fn12"><p><sup>12</sup>&nbsp;On October 12, 2009, the first merchant, NewLibertyStandard, “sold” $5.02 for 5,050 BTC to Martti Malmi, the first customer. One could argue that the miner of block 2,817, who received 2 BTC in transaction fees on February 3, 2009, was technically the first merchant for his service, but the amount was negligible.</p></div></div><p>As with censorship attacks, efforts to alter Bitcoin’s fundamental properties are unlikely to originate from rational economic actors, who have no incentive to do so, but rather from political agents acting on behalf of the state. Such an attack would align with state objectives like combating money laundering and terrorist financing (AML/CFT) or curbing speculation against the national currency. Highly regulated exchanges would be the primary targets.</p>
<p>Thus, merchants determine the protocol by choosing consensus rules that suit them, which they consistently verify using their nodes. A merchant’s individual power is weighted by their potential economic offerings, estimated by actual economic activity. However, this power isn’t linear, as it significantly depends on the network effect.</p>
</section>
<section id="the-network-effect" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-network-effect">The Network Effect</h2>
<p>A merchant’s direct power isn’t solely individual. Since Bitcoin is a currency, it’s subject to economic phenomena, the most significant being the network effect. This effect explains why there are fewer viable Bitcoin implementations than one might expect for a typical physical product.</p>
<p>The network effect refers to the phenomenon where the actual utility of a technology or product increases with the number of its users. It’s a self-reinforcing cycle—a virtuous circle: the more users a system has, the more it attracts new users.</p>
<p>Currency functions as a social network and is thus subject to the network effect. The overall utility of the network doesn’t grow linearly with its economic size but super-linearly. This concept is expressed by Metcalfe’s Law, which states that “the utility of a network is proportional to the square of the number of its users<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>.”</p>
<div class="no-row-height column-margin column-container"><div id="fn13"><p><sup>13</sup>&nbsp;Metcalfe’s Law is named after Robert Metcalfe, co-creator of the Ethernet protocol and founder of 3Com, who observed this effect in 1980 regarding compatible communication devices. The law was formally stated by George Gilder in 1993 in an article in <em>Forbes</em>, suggesting network utility scales as <span class="math inline">\(n^2\)</span> with <span class="math inline">\(n\)</span> users, which overestimated the actual network effect. In 2006, Odlyzko’s Law proposed a more conservative utility scaling of <span class="math inline">\(n \log n\)</span>.—George Gilder, <em>Metcalf’s Law and Legacy</em>, September 1, 1993: <a href="https://www.discovery.org/a/41/" class="uri">https://www.discovery.org/a/41/</a>; Bob Briscoe, Andrew Odlyzko, Benjamin Tilly, <em>Metcalfe’s Law is Wrong</em>, July 1, 2006: <a href="https://spectrum.ieee.org/metcalfes-law-is-wrong" class="uri">https://spectrum.ieee.org/metcalfes-law-is-wrong</a>.</p></div></div><p>During the rise of the internet, the demand for a common protocol led TCP/IP to prevail over the competing OSI model of the time. Similarly, only a limited number of languages tend to dominate due to communication constraints. In international trade and diplomacy, there’s generally only one lingua franca within a given region. Historically, this has included Aramaic and Koine Greek in the Near East during Antiquity, Italian in Europe at the start of the Renaissance, French as the diplomatic language in the 18th and 19th centuries, and today, English globally.</p>
<p>For currencies, the network effect arises from individuals’ preference for a single currency. This is internally driven by the mental cost of economic calculations involving multiple currencies and externally by the exchange costs incurred when converting one currency to another. Consequently, people tend to favor using the most popular currency, even if it has flaws. Additionally, a currency used by a small group must offer significant advantages over others to endure. Over time, currencies tend to consolidate into a single dominant form, though barriers to complete unification may persist.</p>
<p>In Bitcoin, the monetary network effect is predominant. While it’s not the only network effect, it’s the one that drives others—such as liquidity, software development, economic security, and marketing communication—to manifest<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a>.</p>
<div class="no-row-height column-margin column-container"><div id="fn14"><p><sup>14</sup>&nbsp;Vitalik Buterin, <em>On Bitcoin Maximalism, and Currency and Platform Network Effects</em>, November 19, 2014: <a href="https://blog.ethereum.org/2014/11/20/bitcoin-maximalism-currency-platform-network-effects" class="uri">https://blog.ethereum.org/2014/11/20/bitcoin-maximalism-currency-platform-network-effects</a>.</p></div><div id="fn15"><p><sup>15</sup>&nbsp;A Schelling point, in game theory, is a solution that players in a coordination game tend to adopt in the absence of communication, because it seems natural or prominent.—Thomas C. Schelling, <em>The Strategy of Conflict</em>, Harvard University Press, 1960.</p></div></div><p>Therefore, the network effect plays a <em>crucial</em> role in determining the protocol. The existence of a limited number of viable Bitcoin implementations and their stability results from this effect. This is why an economic supermajority is often sought before implementing protocol changes. It also encourages the ossification of the protocol in response to numerous change proposals. A natural Schelling point opposes altering consensus rules<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a>: in the absence of a clear intent to modify the rules or in case of dispute, the default option is to do nothing.</p>
<p>The network effect explains the tendency toward maximalism within communities associated with specific protocols and units of account. Since there should logically be only one Bitcoin, any attempt to alter the concept is seen as futile and counterproductive, if not fraudulent. However, maximalism overlooks the substitution effect.</p>
</section>
<section id="the-substitution-effect" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-substitution-effect">The Substitution Effect</h2>
<p>The second key economic influence on merchants’ individual power is the substitution effect. This effect directly opposes the network effect and leads to a greater number of Bitcoin implementations than one might expect if the concept weren’t naturally constrained.</p>
<p>In economics, a substitute product is a good or service that can be used for the same purpose as another but has different characteristics. Consumers may choose a substitute because it’s cheaper or more effective in meeting their needs. Examples abound: wheat or rice for carbohydrates, coffee or tea for caffeine intake, trains or planes for public transportation, and so on. Substitution is typically imperfect since the alternative product will have differences that can’t be quantified.</p>
<p>The substitution effect emerges when market conditions change dramatically. The original product might become more expensive or scarce, or perhaps cheaper or more abundant. Shifts in living standards may also lead consumers to prefer one product over another. In all cases, a significant change triggers substitution.</p>
<p>This effect also applies to currencies. It becomes evident when official currencies collapse, such as in hyperinflation scenarios, or when they are banned, like in prisons. In these situations, non-traditional items like cars or cigarettes may become monetized.</p>
<p>With Bitcoin, the substitution effect manifests uniquely. Each implementation of Bitcoin is limited by a transaction capacity ceiling, often defined by a maximum block size or weight<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a>. Additionally, the total number of bitcoins is capped. When demand for monetary activity increases, instead of creating more bitcoins, the cost of including transactions in a block rises.</p>
<div class="no-row-height column-margin column-container"><div id="fn16"><p><sup>16</sup>&nbsp;Implementing layer-2 solutions like the Lightning Network only enhances effective value transfer capacity, as we’ll discuss in Chapter&nbsp;<a href="#ch:scalabilite" data-reference-type="ref" data-reference="ch:scalabilite">14</a>.</p></div><div id="fn17"><p><sup>17</sup>&nbsp;This shift to cheaper related systems was observed by Matt Ahlborg, market research consultant for Bitrefill, a platform selling phone top-ups and gift cards.—Matt Ahlborg on Twitter, April 17, 2023, 14:14 UTC: <a href="https://twitter.com/MattAhlborg/status/1647966711126147072" class="uri">https://twitter.com/MattAhlborg/status/1647966711126147072</a>.</p></div></div><p>This characteristic economically excludes transactions involving amounts too small to justify the cost of recording them on the chain. However, the demand for these small transfers doesn’t vanish. Consequently, some of this demand shifts to alternative chains with lower fees, such as Litecoin or Bitcoin Cash, which offer less security than BTC<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a>.</p>
<p>Similarly, what is often perceived as a lack of functionality in Bitcoin-BTC is actually a matter of cost. While it’s possible to simulate all functionalities present on other chains in innovative and indirect ways, it’s cheaper and easier to use protocols that natively incorporate them. This is the case with Monero for privacy or Ethereum-ETH and Ethereum Classic for general programmability.</p>
<p>Therefore, the substitution effect plays a significant role in Bitcoin and crypto-economic systems in general, explaining the existence of numerous “alternative cryptocurrencies.” Without this effect, economic activity might have naturally consolidated around a single protocol (BTC), but we see that’s not the case, especially during network congestion.</p>
<p>The substitution effect accounts for the trend toward extreme crypto-monetary pluralism, where advocates claim that any slightly superior technology could dethrone the market-leading protocol. In this view, they heavily underestimate the network effect, making the opposite mistake of maximalists.</p>
</section>
<section id="power-and-influence" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="power-and-influence">Power and Influence</h2>
<p>To more precisely understand how the protocol evolves, we should distinguish between <em>power</em> and <em>influence</em> within Bitcoin. In politics, power is the ability to act without third-party consent, ultimately enforced through physical means. Influence, by contrast, is the capacity to sway the decisions of those who hold power, often wielded by religious or ideological forces.</p>
<p>In Bitcoin, power translates to the economic authority merchants have over the protocol. Through their nodes, they verify the consensus rules associated with the unit of currency they accept in commerce, thereby adding economic utility to it. However, this direct economic power is frequently influenced by various actors.</p>
<p>These influences are considered in the traditional governance model of Bitcoin, which typically involves the trio of developers, miners, and users. These internal system participants engage more or less directly.</p>
<p>Moreover, influence over the protocol also comes from external entities that impact the system diffusely. While it’s impossible to list all external influences exhaustively, we can identify key ones. These influences operate in three primary ways—through discourse, money, and force—and relate to three actor categories: opinion leaders, financial powers, and state authorities.</p>
<p>Thus, merchants face a range of influences from internal participants like developers, miners, and other users, as well as from external actors such as ideological influencers, financiers, and regulators. These groups interact with each other, forming a complex sociological network that influences the final protocol choice. While fully explaining this complex interplay is beyond our scope, we can sketch a general model by examining internal pressures before exploring the more diffuse external forces.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/bitcoin-governance-model.png" class="img-fluid figure-img"></p>
<figcaption>A Bitcoin governance model: interactions of the main actor groups in determining the protocol.</figcaption>
</figure>
</div>
</section>
<section id="the-influence-of-developers" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-influence-of-developers">The Influence of Developers</h2>
<p>Developers constitute the first category of internal actors. They work directly on maintaining and upgrading full or partial implementations of the protocol, contributing to the chain’s health through the software used by merchants and miners. The reference implementation—the most widely used and the model for other implementations—is particularly significant.</p>
<p>This intermediary role grants developers considerable influence over merchants and other actors who often lack the expertise to analyze and understand the code directly. Additionally, maintaining high-performance software requires costly effort, not easily replicated. This positions developers strongly in protocol decision-making.</p>
<p>Developers are diverse, with varying opinions. To address this, they often rely on the concept of <em>rough consensus</em>, which isn’t strict consensus but rather an estimation of group sentiment or general will. Utilizing rough consensus practically achieves near unanimity without allowing individual dissent to disrupt the process<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a>. While excluding dissenting voices can be critiqued (since an individual might be correct against the majority), it helps preserve the protocol’s network effect by presenting a unified proposal to merchants.</p>
<div class="no-row-height column-margin column-container"><div id="fn18"><p><sup>18</sup>&nbsp;The concept of <em>rough consensus</em> was used by the Internet Engineering Task Force (IETF) in 1998, described in their working group procedures: “Working groups make decisions through a ‘rough consensus’ process. IETF consensus does not require that all participants agree, but rather that a general sense of agreement is achieved.”—<em>IETF Working Group Guidelines and Procedures</em>, September 1998: <a href="https://datatracker.ietf.org/doc/html/rfc2418" class="uri">https://datatracker.ietf.org/doc/html/rfc2418</a>.</p></div></div><p>For BTC, Bitcoin Core serves as the reference implementation, overseen by maintainers. These maintainers, and developers more broadly, are viewed as the protocol’s guardians. While it’s possible to use an alternative implementation (a “fork”), doing so is costly and often frowned upon, creating inertia favoring Bitcoin Core.</p>
<p>This dominance has historically led to the rejection of several dissenting efforts, occasionally resulting in alternative implementations:</p>
<ul>
<li><p>In 2014, Mike Hearn sought to add a <code>getutxos</code> network request to Bitcoin Core but was denied due to lack of consensus, leading to the creation of Bitcoin XT.</p></li>
<li><p>Proponents of increasing the network’s transaction capacity during the blocksize war launched multiple implementations in attempts to enact change: Bitcoin XT in mid-2015, Bitcoin Classic in early 2016, Bitcoin Unlimited in mid-2016, and btc1 in mid-2017.</p></li>
<li><p>Opponents of the SegWit upgrade, widely supported by Bitcoin Core, had to develop Bitcoin ABC, which also increased the block size limit, resulting in the creation of Bitcoin Cash.</p></li>
<li><p>In 2022, Jeremy Rubin threatened to activate BIP-119 (a soft fork) through miners due to Bitcoin Core’s refusal to integrate his code change but eventually reconsidered, likely after gaining the desired attention.</p></li>
</ul>
<p>Thus, while developers—especially those with Bitcoin Core—wield significant influence over the protocol, this influence is limited. If they oppose economic interests too starkly, they risk being replaced by other developers.</p>
<p>A notable example of successful dissent is found in Monero’s early history<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a>. Monero originated as Bitmonero in April 2014, launched by a developer known as thankful_for_today to revive the Bytecoin project, which had experienced massive premining. However, thankful_for_today, self-designated as a “benevolent dictator,” made unilateral changes without consultation, leading to his ousting after a few days. A team of six developers then forked the project, renaming it Monero.</p>
<div class="no-row-height column-margin column-container"><div id="fn19"><p><sup>19</sup>&nbsp;dEBRUYNE, <em>Re: Monero inception—how did bitmonero become monero?</em>, August 11, 2016, 16:21: <a href="https://monero.stackexchange.com/questions/1011/monero-inception-how-did-bitmonero-become-monero/1024#1024" class="uri">https://monero.stackexchange.com/questions/1011/monero-inception-how-did-bitmonero-become-monero/1024#1024</a>.</p></div></div><p>Another example is the opposition to Bitcoin ABC within the Bitcoin Cash protocol in 2020. Bitcoin ABC, the reference implementation for Bitcoin Cash since 2017, was led by Amaury Séchet. In 2020, he agreed with miners’ suggestions to implement a soft fork redirecting part of the block reward to development teams and integrated this change into Bitcoin ABC in November. An alternative implementation, Bitcoin Cash Node, was created to counter this change, gathering substantial economic support and becoming the reference implementation for what is still called Bitcoin Cash today. Implementing the protocol’s subsidy redirection led to the creation of the XEC protocol.</p>
<p>Therefore, while developers have real influence over the protocol, it’s fundamentally limited by economic forces when they come into play.</p>
</section>
<section id="the-pressure-from-miners" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-pressure-from-miners">The Pressure from Miners</h2>
<p>Miners represent the second category of actors influencing the protocol. They are individuals or groups who confirm transactions by expending energy through proof of work. As discussed in Chapter&nbsp;<a href="la-resistance-a-la-censure.html" data-reference-type="ref" data-reference="ch:censure">9</a>, miners have the power to select transactions, enabling them, if they hold a majority, to perform double-spending or enforce censorship.</p>
<p>Contrary to some beliefs, miners have direct power over the protocol only insofar as they are a specific type of merchant. They participate in the economy by confirming transactions in exchange for fees. However, their direct power is minimal due to their relatively small economic activity compared to the total.</p>
<p>Nonetheless, miners wield significant influence in decision-making because of their potential to attack the consensus. They can, for instance, influence economic choices during a split by attacking competing branches to undermine them. This was threatened by pro-BSV miners in November 2018 following the separation from BCH<a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a>. Similarly, pro-BCHN miners censored the Bitcoin ABC chain in November 2020.</p>
<div class="no-row-height column-margin column-container"><div id="fn20"><p><sup>20</sup>&nbsp;A “hash war” occurred between Bitcoin SV miners, supported by Craig Wright and Calvin Ayre, and Bitcoin ABC miners, backed by Roger Ver and Jihan Wu, involving the redirection of mining power.—Aaron van Wirdum, <em>Week 2: How the Bitcoin Cash ‘Hash War’ Came and Went and Not Much Happened</em>, November 30, 2018: <a href="https://bitcoinmagazine.com/technical/week-2-how-bitcoin-cash-hash-war-came-and-went-and-not-much-happened" class="uri">https://bitcoinmagazine.com/technical/week-2-how-bitcoin-cash-hash-war-came-and-went-and-not-much-happened</a>.</p></div><div id="fn21"><p><sup>21</sup>&nbsp;Peter Todd, <em>Forced Soft Forks</em>, January 18, 2016: <a href="https://petertodd.org/2016/forced-soft-forks" class="uri">https://petertodd.org/2016/forced-soft-forks</a>.</p></div></div><p>Miners can also influence economic choices by imposing a soft fork that, in practice, is indistinguishable from censorship. The original consensus rules remain, but their full expression is hindered, potentially prompting merchants to adopt the soft fork by refusing non-conforming transactions and blocks. Developer Peter Todd described this as a “forced soft fork<a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a>,” sometimes referred to as an “evil fork.” The situation can resolve in two ways: merchants might continue applying the old rules, creating a fee differential incentivizing miners to revert, or they may adopt a hard fork to counter the soft fork, risking a spiral of splits due to rapid human intervention.</p>
<p>However, miners’ influence ends there. Merchants ultimately determine the rules, and miners are powerless against this reality. It’s incorrect to assert that miners control the protocol (governance by proof of work), as some “big blockers” did during the blocksize war<a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup>22</sup></a>. If that were true, Bitcoin’s economic system would be doomed, since miners would be naturally incentivized to increase their revenue through inflation, much like central banks.</p>
<div class="no-row-height column-margin column-container"><div id="fn22"><p><sup>22</sup>&nbsp;This viewpoint was held by Coinbase CEO Brian Armstrong, who wrote on January 3, 2016: “Fortunately, Bitcoin has an elegant built-in upgrade mechanism. If the majority of Bitcoin miners ‘vote’ for a particular upgrade, it is by definition the new version of Bitcoin.”—Brian Armstrong, <em>Scaling Bitcoin: The Great Block Size Debate</em>, January 3, 2016: <a href="https://www.coinbase.com/blog/scaling-bitcoin-the-great-block-size-debate" class="uri">https://www.coinbase.com/blog/scaling-bitcoin-the-great-block-size-debate</a>.</p></div></div></section>
<section id="the-role-of-users" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-role-of-users">The Role of Users</h2>
<p>Non-merchant users form the third category of internal actors influencing the protocol. Users are often highlighted as having the final say over the protocol<a href="#fn23" class="footnote-ref" id="fnref23" role="doc-noteref"><sup>23</sup></a>. However, the term “user” is ambiguous and can be misleading because using bitcoin generally involves three distinct actions: accepting it in commerce, holding it over time, and spending it with others. This leads to three theoretical subcategories: merchants, customers, and holders. Only the first has effective power over the protocol; the others wield influence.</p>
<div class="no-row-height column-margin column-container"><div id="fn23"><p><sup>23</sup>&nbsp;“The Bitcoin network isn’t controlled by anyone, much like no one owns the technology behind email. Bitcoin is controlled by all its users globally. While developers improve the software, they can’t force changes to the Bitcoin protocol because users are free to choose which software and version they use. To remain compatible, users need to use software adhering to the same rules. Bitcoin can only function correctly with complete user consensus.”—Bitcoin.org FAQ: <a href="https://bitcoin.org/en/faq#who-controls-the-bitcoin-network" class="uri">https://bitcoin.org/en/faq#who-controls-the-bitcoin-network</a>.</p></div></div><p>First, consider customers—those exchanging their bitcoins for goods and services, including other currencies. They are the counterpart to merchants; trade is inherently reciprocal: without buyers, there are no sellers, and vice versa. Thus, merchants and customers are interdependent.</p>
<p>Customers exert significant influence in determining the protocol. A merchant aiming for business success must accept at least the currency linked to the protocol favored by the majority of customers. The rejection of SegWit2X in 2017 exemplifies customer influence, where users swayed major merchants (exchanges) to abandon plans to double the block size limit in November.</p>
<p>However, the notion that customers share control of the protocol with merchants is flawed. If user dissent is evenly split, the merchant decides which protocol to adopt to offer goods and services at acceptable prices. Ultimately, customers (who spend their bitcoins) don’t add utility to the currency; merchants do.</p>
<p>Next are holders—those who keep bitcoins over extended periods. Referred to as savers or HODLers (a play on the word “hold”), they emphasize their intent to retain their bitcoins long-term. By doing so, they restrict the money supply, which, coupled with increased demand, elevates the purchasing power of each unit and its exchange rate with the dollar—commonly known as “the price.”</p>
<p>Holders influence merchants in several ways. First, their savings increase the size of the protocol’s subsidy, boosting the mining budget for protection against double-spending, thus providing greater security for merchants. Second, holding offers the market more potential liquidity, enabling larger participants to enter. Third, a higher price generates significant publicity, attracting media attention through speculative interest. Thus, during a chain split, holders can sell one branch’s currency for another, creating a differential favoring the preferred protocol (as seen in the BTC and BCH split).</p>
<p>Believing that the currency’s purchasing power is paramount has led some crypto-economic protocols, like Dash and Tezos, to innovate with internal governance systems resolving protocol disputes through votes proportional to unit ownership (governance by proof of stake). Holders are akin to stakeholders in a company, effectively forming a decentralized autonomous organization (DAO).</p>
<p>However, this view holds mainly during Bitcoin’s early phase, where monetary creation constitutes most mining revenue, activity is highly speculative (trading fiat for profit), and the main merchants are exchanges and their clients. Long-term, reduced mining subsidies and stabilization diminish this effect, elevating the importance of non-speculative transactions. While there’s a relationship between utility and price, utility ultimately takes precedence.</p>
<p>Thus, internal actors—developers, miners, customers, and holders—exert significant influence on merchants, impacting protocol determination. However, they’re not the only forces at play; external actors also contribute to the governance mechanism.</p>
</section>
<section id="the-impact-of-opinion-leaders" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-impact-of-opinion-leaders">The Impact of Opinion Leaders</h2>
<p>The first category of external influences comprises opinion leaders who shape the perspectives of active participants in Bitcoin. These can be individuals (influencers) or groups (media). Their existence stems from the impossibility for individuals to grasp all of Bitcoin’s complexities, leading most users to rely on simplified explanations from others and to base judgments on trust.</p>
<p>This dynamic results in certain actors becoming more influential due to personal prestige or control over media outlets. While Bitcoin is often described as leaderless or acephalous<a href="#fn24" class="footnote-ref" id="fnref24" role="doc-noteref"><sup>24</sup></a>, in reality, some individuals exert more sway in decision-making, regardless of their economic activity.</p>
<div class="no-row-height column-margin column-container"><div id="fn24"><p><sup>24</sup>&nbsp;The term “acephalous currency” was popularized by Jacques Favier and Adli Takkal Bataille in <em>Bitcoin, la monnaie acéphale</em> (2017).</p></div></div><p>Technical experts, presumed to deeply understand the protocol, fall into this category. They might be developers, close associates, educators, or authors. Examples include Adam Back, a former cypherpunk and CEO of Blockstream; Andreas Antonopoulos, a long-time educator; and Aaron van Wirdum, an experienced writer for <em>Bitcoin Magazine</em> and co-host of the podcast <em>Bitcoin Explained</em>.</p>
<p>Politically engaged actors who comprehend Bitcoin’s fundamental interests are also influential. Activists like Alex Gladstein, Chief Strategy Officer at the Human Rights Foundation, exemplify this group. Economists who grasp the economic mechanisms at play—such as Saifedean Ammous, Lyn Alden, or France’s financial magistrate Yorick de Mombynes—also hold significant sway.</p>
<p>Finally, financiers who amassed wealth before or through Bitcoin are influential, serving as role models due to their financial success—a primary attraction for many newcomers to Bitcoin. Figures like Roger Ver, the Winklevoss twins, and Michael Saylor are notable. Elon Musk, a billionaire whose public endorsements revitalized Dogecoin, represents this archetype.</p>
<p>These personalities are frequently amplified by media outlets, which themselves influence public opinion by selecting which content to publish or broadcast. They enable the general public, often lacking time or interest to delve deeply, to form opinions.</p>
<p>This includes individual content creators producing cryptocurrency-related material on platforms like YouTube, specialized media like news sites (Bitcoin.org, Bitcoin.fr), news outlets (<em>Bitcoin Magazine</em>, <em>Cointelegraph</em>, <em>Coindesk</em>, Bitcoin.com internationally; Cryptoast and <em>Journal du Coin</em> in France), video channels (Grand Angle Crypto), podcasts, and paid newsletters (The Big Whale). Discussion platforms like the historic forum bitcointalk.org, Bitcoin-dedicated subreddits (r/bitcoin, r/btc), and Telegram groups also play roles.</p>
<p>Mainstream media exert influence too, albeit more diffusely. Financial news channels like CNBC or BFM Business occasionally cover crypto-assets. Social media platforms, particularly Twitter, significantly shape public opinion on Bitcoin.</p>
</section>
<section id="the-persuasive-power-of-finance" class="level2 unnumbered page-columns page-full">
<h2 class="unnumbered anchored" data-anchor-id="the-persuasive-power-of-finance">The Persuasive Power of Finance</h2>
<p>Beyond discourse, financial power also influences system actors. Financial entities shape protocol determination by choosing to fund the ecosystem and influencers promoting their preferred Bitcoin variant. They might provide resources for commercial expansion (exchange listings), software development, innovative applications, marketing, or regulatory lobbying.</p>
<p>Funding the reference implementation is particularly critical. Maintaining the software infrastructure isn’t free and doesn’t generate revenue due to the necessary absence of legal usage constraints. Thus, developers need financial support<a href="#fn25" class="footnote-ref" id="fnref25" role="doc-noteref"><sup>25</sup></a>. Various organizations fund development; as of 2023, key sponsors for Bitcoin Core developers include the charitable organization Brink (funded by major exchanges), MIT Media Lab’s Digital Currency Initiative, Chaincode Labs, Jack Dorsey’s Block, and the leveraged trading platform BitMEX.</p>
<div class="no-row-height column-margin column-container"><div id="fn25"><p><sup>25</sup>&nbsp;Various funding models have been proposed: the Bitcoin Foundation (2012–2014), venture capital funding with Blockstream (from 2014), crowdfunding with Lighthouse (BTC) in 2014 and Flipstarter (BCH) in 2020, and using the mining subsidy (Dash, Zcash, XEC) since 2015.</p></div></div><p>This funding grants financial powers particular influence, leading to scrutiny, such as criticisms of Blockstream since its inception, notably for investments from entities like AXA. Similarly, the Digital Currency Initiative has faced ambiguity for developing a prototype central bank digital currency for the U.S. while employing Bitcoin Core’s lead maintainer, Wladimir van der Laan.</p>
</section>
<section id="the-states-challenge-to-the-protocol" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="the-states-challenge-to-the-protocol">The State’s Challenge to the Protocol</h2>
<p>Finally, the third method of influencing system actors and thus the protocol is through force, or more precisely, the threat of force—a domain largely monopolized by the state.</p>
<p>The state’s existence is deeply intertwined with monetary control, facilitating revenue collection, particularly through seigniorage derived from dominating monetary policy. This creates an antagonistic relationship with Bitcoin, which empowers individuals with total control over their money.</p>
<p>It’s logical, then, for the state to attempt to influence the protocol’s evolution or even decree it outright. By defining legal frameworks, it can sway merchants’ choices. However, the state’s political power isn’t limitless. Missteps or abrupt changes may lead merchants to mass disobedience and participation in black markets where authorization isn’t required.</p>
<p>Economic power ultimately determines the protocol. Yet, over time, the state can subtly interfere with decisions to alter Bitcoin’s properties. Through strategic legislation, it can maintain broad acceptance, ensuring much of the economy remains in regulated markets. It can also influence key actors in Bitcoin’s governance model—developers, miners, media—without prompting resistance.</p>
<p>Financial regulations serve as preparatory steps for such influence, imposing constraints on exchanges (principal merchants) bridging bitcoin and official currencies. Initiated in 2013, these regulations mandate stringent Know Your Customer (KYC) and Know Your Transaction (KYT) procedures, making anonymity increasingly difficult. They habituate economic actors to compliance and limit the number of participants by imposing burdensome requirements on smaller exchanges. Such regulations may also apply broadly to merchants, with laws in most jurisdictions requiring declaration of capital gains relative to national currency.</p>
<p>Considering how the protocol might be attacked, acceptance of bitcoin could be declared illegal without alternatives, wiping out the regulated market’s merchant economy instantaneously. The system’s utility and the unit’s exchange value would plummet.</p>
<p>Total bans have occurred in countries like Morocco, Algeria, Bolivia, and Nepal. Others have partially banned aspects of the economy, such as exchanges with national currency (China), the sale of goods and services domestically (Turkey, Ecuador, Thailand), or acquisition by financial actors (Iran, Nigeria). Except for China, these bans haven’t been enacted by major powers, leaving bitcoin usage legal in most of the world. A truly impactful ban would require international coordination to diminish Bitcoin’s utility significantly.</p>
<p>The effectiveness of such bans is debatable due to enforcement challenges. Unpopular prohibitions risk expanding black markets. Thus, it’s plausible that such an attack would involve offering a state-controlled Bitcoin alternative to appease the more “pragmatic” segments of the economy.</p>
<p>To counter Bitcoin, the state might deploy its own protocol version to gradually erode Bitcoin’s fundamental properties. This altered Bitcoin would be legalized and favorably regulated, while the original would be outlawed. Compliant actors might enjoy short-term price increases, while dissident merchants face penalties.</p>
<p>Initially, censorship via soft forks could be implemented based on general AML/CFT standards, possibly coupled with active miner censorship. Compliant actors might justify their stance by asserting that certain transactions don’t belong on the Bitcoin chain.</p>
<p>Subsequently, a soft fork might extend to all transactions, requiring state authorization for each. At this stage, staunch conformists might still believe the monetary policy remains intact.</p>
<p>Thirdly, a tax-imposing soft fork could be introduced, levying fixed transaction fees (akin to VAT) or extracting demurrage based on holding periods. Such measures could aim to regulate bitcoin’s deflationary nature and address wealth inequality.</p>
<p>Finally, an inflationary hard fork might be enacted. By this point, remaining participants would be entirely different from the originals. The essence of “Bitcoin” would be wholly eradicated, with the system resembling a central bank digital currency.</p>
<p>Though hypothetical, this scenario logically follows from state influence over money and is somewhat inevitable. However, it simultaneously presupposes the emergence of a parallel economy where bitcoin acceptance occurs clandestinely. Facing increasing censorship, resistance would grow, and the official chain’s diminishing utility would drive non-conformist merchants away.</p>
<p>Eventually, a split would occur. If the state version is minority, it would naturally diverge (optimistic scenario). If it’s majority, the clandestine version might require a hard fork to survive (pessimistic scenario). Either way, Bitcoin’s restoration would proceed from the free chain, with no protocol ambiguities. However, this chain could face mining attacks, as detailed in Chapter&nbsp;<a href="la-resistance-a-la-censure.html" data-reference-type="ref" data-reference="ch:censure">9</a>.</p>
</section>
<section id="two-layers-of-security" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="two-layers-of-security">Two Layers of Security</h2>
<p>Bitcoin embodies a digital currency concept resistant to censorship and inflation. These two fundamental properties are complementary but require different security measures. Resistance to censorship relies on mining security; resistance to inflation depends on commercial security.</p>
<p>Determining the protocol—or protocols, since multiple can exist—is achieved by merchants broadly defined as those accepting bitcoin in exchange for goods, services, or other currencies. Merchants verify consensus rules through their nodes. Their power over the protocol is proportional to their potential economic activity, estimable by actual revenues, and influenced by the network effect, which causes collective utility from merchants to grow super-linearly.</p>
<p>Various influences affect merchants’ protocol choices. While the intricate interactions of this complex network are hard to fully comprehend, we’ve outlined key elements here. Notably, the state’s significant influence cannot be overlooked; it could directly attack the protocol by coercing merchants and other actors.</p>
<p>For the Bitcoin protocol to be truly robust, economic activity must be decentralized, much like mining. Merchants (or small merchant groups) need to run their own nodes so that, if an authority mandates rule changes, risks are distributed across the economy, allowing Bitcoin to continue clandestinely.</p>
<p>Long-term consensus on the protocol is essential. Bitcoin’s brief history is filled with disruptions showing that changing consensus rules isn’t always smooth. Time is needed to distinguish beneficial modifications from detrimental ones.</p>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/le-changement-de-la-monnaie.html" class="pagination-link" aria-label="The Evolution of Currency">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">The Evolution of Currency</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/les-rouages-de-la-machine.html" class="pagination-link" aria-label="The Inner Workings of the Machine">
        <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">The Inner Workings of the Machine</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 © 2024 Konsensus Network
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../index.html">
<p>License</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../presale.html">
<p>Acheter</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/konsensusn">
      <i class="bi bi-twitter" role="img" aria-label="Twitter">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/konsensusnetwork">
      <i class="bi bi-github" role="img" aria-label="Github">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/konsensusnetwork">
      <i class="bi bi-linkedin" role="img" aria-label="LinkedIn">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/konsensusnetwork">
      <i class="bi bi-youtube" role="img" aria-label="YouTube">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>